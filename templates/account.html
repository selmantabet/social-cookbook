{% extends "layout.html" %} {% block content %}
<div class="container text-center">
  <div class="row align-items-start">
    <div class="col"></div>
    <div class="col-6">
      <h1 class="text-center">Account Settings</h1>
      <hr />
      <div class="text-center align-items-center">
        <h3 class="mx-auto">Username: {{current_user.username}}</h3>
        {% if session.get("has_dp") %}
        <br />

        <img
          src="{{ url_for('static', filename= 'uploads/' + current_user.id|string + '/dp.jpg') }}"
          width="120"
          class="img-fluid mx-auto"
        />
        <br />
        <br />
        <form action="" method="POST">
          <input
            type="submit"
            name="clear"
            value="Delete display picture."
            class="btn btn-outline-warning"
          />
        </form>
        {% endif %}
        <div class="mx-auto">
          <form action="" method="POST" enctype="multipart/form-data">
            {{ settings.csrf_token }}
            <div class="container" , width="120">
              <br />{{ settings.dp.label(class_='form-label') }} {{
              settings.dp(size=32, class_='form-control') }}
            </div>
            <br />
            <input
              type="submit"
              name="update"
              value="Upload/update display picture."
              class="btn btn-outline-primary"
            /><br />
          </form>
          <br />
        </div>
        {% for error in settings.dp.errors %}
        <span style="color: red">[{{ error }}]</span>
        {% endfor %}
      </div>
    </div>
    <div class="col"></div>
  </div>
</div>

{% endblock content %}
